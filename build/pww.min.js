/*! pww 03-11-2016 */
"use strict";var app=angular.module("myApp",["ngRoute","myApp.view1","myApp.view2","myApp.works","myApp.contact","myApp.pageslide","myApp.tilehex","ngAnimate","thatisuday.ng-image-gallery"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/view1"})}]);angular.module("myApp.view1",["ngRoute"]).config(["$routeProvider",function(a){a.when("/view1",{templateUrl:"view1/view1.html",controller:"View1Ctrl"})}]).controller("View1Ctrl",["$scope","$http",function(a,b){b.get("json/hexGrid.json").success(function(b){a.grid=b.grid,a.hexRow=[];for(var c=b.grid.length,d=0;d<c;d++){a.hexRow[d]={hexes:[],rowClass:"even"},a.hexRow[d].hexes=b.grid[d];for(var e=0;e<a.hexRow[d].hexes.length;e++)a.hexRow[d].hexes[e].hasOwnProperty("img")?a.hexRow[d].hexes[e].source=a.hexRow[d].hexes[e].img:(a.hexRow[d].hexes[e].source="",a.hexRow[d].hexes[e].img="");a.hexRow[d].rowClass=d%2==0?"even":"odd"}}),a.rowClass="even",a.isLoading=!0,a.percentLoaded=0,a.pageClass="page-home"}]),app.controller("preloadController",function(a,b){a.imageLocations=["img/LargeHex/LargeHexLogo.png","img/LargeHex/LargeHexAbout.png","img/LargeHex/LargeHexWorks.png","img/LargeHex/LargeHexContact.png","img/SmallHexLogo.png","img/LargeHex/LargeHexAboutHover7.png","img/LargeHex/LargeHexLogoHover.png","img/LargeHex/LargeHexWorksHover.png","img/LargeHex/LargeHexContactHover2.png"],b.preloadImages(a.imageLocations).then(function(b){a.isLoading=!1,a.isSuccessful=!0,console.info("Preload Successful")},function(b){a.isLoading=!1,a.isSuccessful=!1,console.error("Image Failed",b),console.info("Preload Failure")},function(b){a.percentLoaded=b.percent,console.info("Percent loaded:",b.percent)})}),function(){var a=function(a){return{restrict:"E",template:function(a,b,c){var d="";return d+="<li>",d+='<div  style="background-image: none"></div>',d+="</li>"},replace:!0,link:function(a,b,c){function d(){b.css("background-color",a.x.color),null!=a.x.imgHover&&b.children().first().css("background-image",'url("'+a.x.imgHover+'")'),null!=a.x.details&&b.addClass("highlight-hex")}function e(){b.hasClass("popped")||(b.css("background-color","#fff"),b.children().first().css("background-image","none")),b.removeClass("highlight-hex")}function f(){$("#refBox").addClass("hidden"),$("#refBoxBackground").addClass("hidden"),$("#close-icon").addClass("hidden"),b.removeClass("popped"),b.css("background-color","#fff"),b.children().first().css("background-image","none"),b.removeClass("highlight-hex")}if(b.addClass("hex"),b.addClass("small"),a.closeLightBoxWithEsc=f,b.bind("mouseover",d),b.bind("mouseout",e),null!=a.x.details){var g=angular.element(a.x.details);a.x.popup=g,b.bind("click",function(){b.toggleClass("popped"),$("#refBox").html(a.x.popup),$("#refBox").toggleClass("hidden popped");var c=$("#refBox img").width();$("#refBox p").css("max-width",c),$("#refBoxBackground").toggleClass("hidden"),$("#refBoxBackground").bind("mousedown",f),$("#refBoxBackground").bind("touchstart",f),$("#close-icon").toggleClass("hidden"),$("#close-icon").bind("click",f)})}}}};app.directive("ngEsc",function(){return function(a,b,c){b.bind("keydown keypress keyup",function(b){27===b.which&&(a.$apply(function(){a.$eval(c.ngEsc)}),b.preventDefault())})}});var b=function(a){return{restrict:"EA",link:function(b,c,d){c.addClass("ref"),c.children().first().next().addClass("hidden"),c.bind("click",function(a){c.children().first().next().toggleClass("hidden"),a.stopPropagation()}),angular.element(a[0].body).bind("click",function(a){c.children().first().next().addClass("hidden")})}}},c=function(){return{restrict:"EA",templateUrl:"/nav.html",scope:{navSize:"@"},replace:!0,link:function(a,b,c){var d={};d.navClass="menu-"+a.navSize||"",b.addClass(d.navClass)}}};angular.module("myApp").directive("alpualRef",b),angular.module("myApp").directive("gridHex",a),angular.module("myApp").directive("navLinks",c)}(),function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof module&&module.exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){a.module("pageslide-directive",[]).directive("pageslide",["$document","$timeout",function(b,c){return{restrict:"EA",transclude:!1,scope:{psOpen:"=?",psAutoClose:"@",psSide:"@",psSpeed:"@",psClass:"@",psSize:"@",psZindex:"@",psPush:"@",psContainer:"@",psKeyListener:"@",psBodyClass:"@",psClickOutside:"@",onopen:"=?",onclose:"=?"},link:function(d,e,f){function g(a){r&&!p.contains(a.target)&&(r=!1,d.psOpen=!1,d.$apply()),d.psOpen&&(r=!0)}function h(a){if(n.bodyClass){var b=n.className+"-body",c=new RegExp(" "+b+"-closed| "+b+"-open");q.className=q.className.replace(c,""),q.className+=" "+b+"-"+a}}function i(){d.psOpen?"function"==typeof d.onopen&&d.onopen():"function"==typeof d.onclose&&d.onclose()}function j(){switch(n.side){case"right":p.style.width=n.size,p.style.height="100%",p.style.top="0px",p.style.bottom="0px",p.style.right="0px";break;case"left":p.style.width=n.size,p.style.height="100%",p.style.top="0px",p.style.bottom="0px",p.style.left="0px";break;case"top":p.style.height=n.size,p.style.width="100%",p.style.left="0px",p.style.top="0px",p.style.right="0px";break;case"bottom":p.style.height=n.size,p.style.width="100%",p.style.bottom="0px",p.style.left="0px",p.style.right="0px"}}function k(a,c){switch(c.side){case"right":a.style.right="-"+c.size,c.push&&(q.style.right="0px",q.style.left="0px");break;case"left":a.style.left="-"+c.size,c.push&&(q.style.left="0px",q.style.right="0px");break;case"top":a.style.top="-"+c.size,c.push&&(q.style.top="0px",q.style.bottom="0px");break;case"bottom":a.style.bottom="-"+c.size,c.push&&(q.style.bottom="0px",q.style.top="0px")}c.keyListener&&b.off("keydown",m),c.clickOutside&&b.off("touchend click",g),r=!1,h("closed"),d.psOpen=!1}function l(a,c){switch(c.side){case"right":a.style.right="0px",c.push&&(q.style.right=c.size,q.style.left="-"+c.size);break;case"left":a.style.left="0px",c.push&&(q.style.left=c.size,q.style.right="-"+c.size);break;case"top":a.style.top="0px",c.push&&(q.style.top=c.size,q.style.bottom="-"+c.size);break;case"bottom":a.style.bottom="0px",c.push&&(q.style.bottom=c.size,q.style.top="-"+c.size)}d.psOpen=!0,c.keyListener&&b.on("keydown",m),c.clickOutside&&b.on("touchend click",g),h("open")}function m(a){var b=27,e=a.keyCode||a.which;e===b&&(k(p,n),c(function(){d.$apply()}))}var n={};n.side=d.psSide||"right",n.speed=d.psSpeed||"0.5",n.size=d.psSize||"300px",n.zindex=d.psZindex||1e3,n.className=d.psClass||"ng-pageslide",n.push="true"===d.psPush,n.container=d.psContainer||!1,n.keyListener="true"===d.psKeyListener,n.bodyClass=d.psBodyClass||!1,n.clickOutside="false"!==d.psClickOutside,n.push=n.push&&!n.container,e.addClass(n.className);var o,p,q,r=!1;if(q=n.container?document.getElementById(n.container):document.body,h("closed"),p=e[0],"div"!==p.tagName.toLowerCase()&&"pageslide"!==p.tagName.toLowerCase())throw new Error("Pageslide can only be applied to <div> or <pageslide> elements");if(0===p.children.length)throw new Error("You need to have content inside the <pageslide>");o=a.element(p.children),q.appendChild(p),p.style.zIndex=n.zindex,p.style.position="fixed",p.style.transitionDuration=n.speed+"s",p.style.webkitTransitionDuration=n.speed+"s",p.style.height=n.size,p.style.transitionProperty="top, bottom, left, right",n.push&&(q.style.position="absolute",q.style.transitionDuration=n.speed+"s",q.style.webkitTransitionDuration=n.speed+"s",q.style.transitionProperty="top, bottom, left, right"),n.container&&(p.style.position="absolute",q.style.position="relative",q.style.overflow="hidden"),p.addEventListener("transitionend",i),j(),d.$watch("psOpen",function(a){a?l(p,n):k(p,n)}),d.$watch("psSize",function(a,b){b!==a&&(n.size=a,j())}),d.$on("$destroy",function(){p.parentNode===q&&(n.clickOutside&&b.off("touchend click",g),q.removeChild(p)),p.removeEventListener("transitionend",i)}),d.psAutoClose&&(d.$on("$locationChangeStart",function(){k(p,n)}),d.$on("$stateChangeStart",function(){k(p,n)}))}}}])}),function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof module&&module.exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){a.module("tilehex-directive",[]).directive("tilehex",["$animate","$document","$timeout",function(b,c,d){return{restrict:"A",transclude:!1,scope:{cardinality:"@",defaultSrc:"@",hoverSrc:"@",hexSize:"@",hexClass:"@",rotateTime:"@",screenSize:"@"},controller:function(a){},link:function(c,d,e){function f(){var a=h.screenSize.indexOf("max-width")>=0?"max":"min";i=h.screenSize.split(" ")[1],j=window.innerWidth,console.log("current width "+j+" compare to theWidth: "+i),k="min"==a&&j<=i||"max"==a&&j>=i}function g(){if(k)return void("false"!=h.defaultSrc&&(d[0].children[p].className="gone",d[0].children[0].className="opacityA"));d[0].children[p].className="opacityZ";var a=p;p++,p==d.children.length&&(p=0),setTimeout(function(){d[0].children[a].className="gone",d[0].children[p].className="opacityA"},180)}var h={};h.hexSize=c.hexSize||"medium",h.cardinality=c.cardinality||"false",h.defaultSrc=c.defaultSrc||"false",h.hoverSrc=c.hoverSrc||"false",h.className=c.hexClass||"tilehex",h.rotateTime=c.rotateTime||3e3,h.screenSize=c.screenSize||"all",h.imageFlash=c.imageFlash||!1,d.addClass(h.className),d.addClass("hex"),d.addClass(h.hexSize),d.addClass("hex-fade-in"),d.addClass("hex-fade-in-enter"),setTimeout(function(){d.removeClass("hex-fade-in-enter")},20),console.log(d);var i,j,k=!1;if("all"!=h.screenSize&&(h.screenSize.indexOf("min-width")>=0&&(f("min"),a.element(window).bind("resize",f),console.log("bind min")),h.screenSize.indexOf("max-width")>=0&&(f("max"),a.element(window).bind("resize",f),console.log("bind max"))),h.cardinality&&d.addClass(h.cardinality+"Hex"),"false"!=h.hoverSrc&&(h.theSrc=d[0].children[0].src,console.log(h.theSrc),d.bind("mouseover",function(){d[0].children[0].src=h.hoverSrc}),"false"!=h.defaultSrc?d.bind("mouseout",function(){d[0].children[0].src=h.defaultSrc}):d.bind("mouseout",function(){d[0].children[0].src=h.theSrc}),b.on("enter",d,function(a){a[0].children[0].src=h.hoverSrc})),d[0].children.length>1){var l=[d[0].children[0]],m=d[0].children;if(h.imageFlash)for(var n=1;n<m.length;n++){var o=m[n];o.className="inPlace"}else{for(var n=1;n<m.length;n++){var o=m[n];o.className="hidden",l.push(o)}setInterval(function(){return g()},h.rotateTime)}}var p=0;cleanUp=function(){window.angular.element(window).off("resize",f)},c.$on("$destroy",cleanUp)}}}])});var mobileMenu=angular.module("myApp.pageslide",["pageslide-directive"]);mobileMenu.controller("pageslideCtrl",["$scope",function(a){a.checked=!1,a.size="40px",a.toggle=function(){a.checked=!a.checked},a.mockRouteChange=function(){a.$broadcast("$locationChangeStart")},a.onopen=function(){alert("Open")},a.onclose=function(){alert("Close")}}]),angular.module("myApp").factory("preloader",function(a,b){function c(b){this.imageLocations=b,this.imageCount=this.imageLocations.length,this.loadCount=0,this.errorCount=0,this.states={PENDING:1,LOADING:2,RESOLVED:3,REJECTED:4},this.state=this.states.PENDING,this.deferred=a.defer(),this.promise=this.deferred.promise}return c.preloadImages=function(a){var b=new c(a);return b.load()},c.prototype={constructor:c,isInitiated:function(){return this.state!==this.states.PENDING},isRejected:function(){return this.state===this.states.REJECTED},isResolved:function(){return this.state===this.states.RESOLVED},load:function(){if(this.isInitiated())return this.promise;this.state=this.states.LOADING;for(var a=0;a<this.imageCount;a++)this.loadImageLocation(this.imageLocations[a]);return this.promise},handleImageError:function(a){this.errorCount++,this.isRejected()||(this.state=this.states.REJECTED,this.deferred.reject(a))},handleImageLoad:function(a){this.loadCount++,this.isRejected()||(this.deferred.notify({percent:Math.ceil(this.loadCount/this.imageCount*100),imageLocation:a}),this.loadCount===this.imageCount&&(this.state=this.states.RESOLVED,this.deferred.resolve(this.imageLocations)))},loadImageLocation:function(a){var c=this,d=$(new Image).on("load",function(a){b.$apply(function(){c.handleImageLoad(a.target.src),c=d=a=null})}).on("error",function(a){b.$apply(function(){c.handleImageError(a.target.src),c=d=a=null})}).prop("src",a)}},c});var mobileMenu=angular.module("myApp.tilehex",["tilehex-directive"]);mobileMenu.controller("tilehexCtrl",["$scope",function(a){a.rotateTime="300"}]),angular.module("myApp.view2",["ngRoute"]).config(["$routeProvider",function(a){a.when("/view2",{templateUrl:"view2/view2.html",controller:"View2Ctrl"})}]).controller("View2Ctrl",[function(){}]),angular.module("myApp.works",["ngRoute","thatisuday.ng-image-gallery"]).config(["$routeProvider",function(a){a.when("/works",{templateUrl:"works/works.html",controller:"WorksCtrl"})}]).config(["ngImageGalleryOptsProvider",function(a){a.setOpts({thumbnails:!1,inline:!0,imgBubbles:!1,bgClose:!0,bubbles:!0,imgAnim:"fadeup"})}]).controller("WorksCtrl",["$scope","$http",function(a,b){b.get("json/works.json").success(function(b){a.entries=b.entries}),a.images=[{title:"Poster Image - The Missing Parts Present: Sueños",alt:"Poster for The Missing Parts CD Release: Sueños",url:"/img/CD-Release-Flyer.jpg"},{title:"Poster Image - The Missing Parts and Le Chat Lunatique",alt:"Poster for The Missing Parts and Le Chat Lunatique at Sister Bar",url:"/img/Band-Automata-Flyer-at-Sister-with-Le-Chat.jpg"},{title:"Poster Image - The Missing Parts and Molehill Orkestrah",alt:"Poster for The Missing Parts and Molehill Orkestrah at Plush",url:"/img/Molehill.jpg"},{title:"Poster Image - The Missing Parts and Maedea",alt:"Poster for The Missing Parts and Maedea at Solar Culture",url:"/img/Poster-with-Maedea.jpg"}]}]),angular.module("myApp.contact",["ngRoute"]).config(["$routeProvider",function(a){a.when("/contact",{templateUrl:"contact/contact.html",controller:"ContactCtrl"})}]).controller("ContactCtrl",["$scope","$http",function(a,b){}]),!function(){var a={enter:13,esc:27,left:37,right:39};angular.module("thatisuday.ng-image-gallery",["ngAnimate"]).provider("ngImageGalleryOpts",function(){var a={thumbnails:!0,inline:!1,bubbles:!0,imgBubbles:!1,bgClose:!1,imgAnim:"fadeup"};return{setOpts:function(b){angular.extend(a,b)},$get:function(){return a}}}).directive("ngImageGallery",["$rootScope","$timeout","$q","ngImageGalleryOpts",function(b,c,d,e){return{replace:!0,transclude:!1,restrict:"AE",scope:{images:"=",methods:"=?",conf:"=?",thumbnails:"=?",inline:"=?",bubbles:"=?",imgBubbles:"=?",bgClose:"=?",imgAnim:"@?",onOpen:"&?",onClose:"&?"},template:'<div class="ng-image-gallery img-move-dir-{{imgMoveDirection}}" ng-class="{inline:inline}"><div ng-if="thumbnails && !inline" class="ng-image-gallery-thumbnails"><div class="thumb" ng-repeat="image in images" ng-click="methods.open($index);" ng-style="{ \'background-image\': \'url(\' + (image.thumbUrl || image.url) + \')\' }"  ng-attr-title="{{image.title || undefined}}"></div></div><div class="ng-image-gallery-modal" ng-show="opened" ng-cloak><div class="ng-image-gallery-backdrop" ng-if="!inline"></div><div class="ng-image-gallery-content" ng-show="!imgLoading" ng-click="backgroundClose($event);"><div class="destroy-icons-container"><a class="ext-url" ng-repeat="image in images" ng-if="activeImg == image && image.extUrl" href="{{image.extUrl}}"></a><div class="close" ng-click="methods.close();" ng-if="!inline"></div></div><div class="prev" ng-click="methods.prev();" ng-class="{\'bubbles-on\':bubbles}" ng-hide="images.length == 1"></div><div class="next" ng-click="methods.next();" ng-class="{\'bubbles-on\':bubbles}" ng-hide="images.length == 1"></div><div class="galleria"><div class="galleria-images img-anim-{{imgAnim}} img-move-dir-{{imgMoveDirection}}"><img class="galleria-image" ng-repeat="image in images" ng-if="activeImg == image" ng-src="{{image.url}}" ondragstart="return false;" oncontextmenu="return false;" ng-attr-title="{{image.title || undefined}}" ng-attr-alt="{{image.alt || undefined}}"/></div><div class="galleria-bubbles" ng-if="bubbles && !imgBubbles"  ng-hide="images.length == 1"><span class="galleria-bubble" ng-click="setActiveImg(image);" ng-repeat="image in images" ng-class="{active : (activeImg == image)}"></span></div><div class="galleria-bubbles" ng-if="bubbles && imgBubbles" ng-hide="images.length == 1"><span class="galleria-bubble img-bubble" ng-click="setActiveImg(image);" ng-repeat="image in images" ng-class="{active : (activeImg == image)}" ng-style="{ \'background-image\': \'url(\' + (image.bubbleUrl || image.thumbUrl || image.url) +\')\' }"></span></div></div></div><div class="ng-image-gallery-loader" ng-show="imgLoading"><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div></div></div>',link:function(f,g,h){f.showLoader=function(){f.imgLoading=!0},f.hideLoader=function(){f.imgLoading=!1},f.loadImg=function(a){if(!a)return d.reject();var b=d.defer();a.hasOwnProperty("cached")||f.showLoader();var c=new Image;return c.src=a.url,c.onload=function(){return a.hasOwnProperty("cached")||f.hideLoader(),a.hasOwnProperty("cached")||(a.cached=!0),b.resolve(a)},b.promise},f.setActiveImg=function(a){f.images.indexOf(f.activeImg)-f.images.indexOf(a)==f.images.length-1||f.images.indexOf(f.activeImg)-f.images.indexOf(a)<=0&&f.images.indexOf(f.activeImg)-f.images.indexOf(a)!=-(f.images.length-1)?f.imgMoveDirection="forward":f.imgMoveDirection="backward",f.loadImg(a).then(function(a){f.activeImg=a})},f.images=void 0!=f.images?f.images:[],f.methods=void 0!=f.methods?f.methods:{},f.conf=void 0!=f.conf?f.conf:{},f.$watchCollection("conf",function(a){f.thumbnails=void 0!=a.thumbnails?a.thumbnails:void 0!=f.thumbnails?f.thumbnails:e.thumbnails,f.inline=void 0!=a.inline?a.inline:void 0!=f.inline?f.inline:e.inline,f.bubbles=void 0!=a.bubbles?a.bubbles:void 0!=f.bubbles?f.bubbles:e.bubbles,f.imgBubbles=void 0!=a.imgBubbles?a.imgBubbles:void 0!=f.imgBubbles?f.imgBubbles:e.imgBubbles,f.bgClose=void 0!=a.bgClose?a.bgClose:void 0!=f.bgClose?f.bgClose:e.bgClose,f.imgAnim=void 0!=a.imgAnim?a.imgAnim:void 0!=f.imgAnim?f.imgAnim:e.imgAnim}),f.onOpen=void 0!=f.onOpen?f.onOpen:angular.noop,f.onClose=void 0!=f.onClose?f.onClose:angular.noop;var i=!0;f.$watch("images",function(){i?i=!1:f.images.length&&f.setActiveImg(f.images[f.activeImageIndex||0])});var j=!0;if(f.$watch("activeImageIndex",function(a){j?j=!1:f.images.length&&f.setActiveImg(f.images[a])}),f.$watch("inline",function(){c(function(){f.inline&&f.methods.open()})}),f.methods.open=function(a){f.activeImageIndex=a?a:0,f.opened=!0,f.inline||angular.element(document.body).addClass("body-overflow-hidden"),c(function(){f.onOpen()},300)},f.methods.close=function(){f.opened=!1,angular.element(document.body).removeClass("body-overflow-hidden"),c(function(){f.onClose(),f.activeImageIndex=0},300)},f.methods.next=function(){f.activeImageIndex==f.images.length-1?f.activeImageIndex=0:f.activeImageIndex=f.activeImageIndex+1},f.methods.prev=function(){0==f.activeImageIndex?f.activeImageIndex=f.images.length-1:f.activeImageIndex--},f.backgroundClose=function(a){if(f.bgClose&&!f.inline)for(var b=["galleria-image","destroy-icons-container","ext-url","close","next","prev","galleria-bubble"],c=0;c<a.target.classList.length&&b.indexOf(a.target.classList[c])==-1;c++)f.methods.close()},angular.element(document).bind("keyup",function(b){f.inline||(b.which==a.right||b.which==a.enter?c(function(){f.methods.next()}):b.which==a.left?c(function(){f.methods.prev()}):b.which==a.esc&&c(function(){f.methods.close()}))}),window.Hammer){var k=new Hammer(g[0]);k.on("swiperight",function(a){c(function(){f.methods.prev()})}),k.on("swipeleft",function(a){c(function(){f.methods.next()})}),k.on("doubletap",function(a){f.inline||c(function(){f.methods.close()})})}var l=function(){angular.element(document.body).removeClass("body-overflow-hidden")};b.$on("$stateChangeSuccess",l),b.$on("$routeChangeSuccess ",l)}}}])}();